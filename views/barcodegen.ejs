<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--Custom CSS-->
  <link rel="stylesheet" href="styles.css">
  <!--Semantic-UI CSS-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.css">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

  <title>View Stocks</title>
  <style>
    .page {
      width: 21cm;
      height: 29.7cm;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
    }

    .cell {
      background-color: white;
      width: 5.25cm;
      height: 2.475cm;
      border: 1px solid red;
      text-align: center;

      overflow: auto;
    }
  </style>
</head>

<body>
  <!--Vertical Navbar-->
  <%- include('header') %>

    <!-- Page content holder -->
    <div class="page-content p-5" id="content"
      style="background: linear-gradient(to right, #e9edf1 47%, #ff8ab3 100%);">
      <!-- Toggle button -->
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">View Stock</li>
        </ol>
      </nav>
      <button id="sidebarCollapse" type="button" class="btn btn-light bg-white rounded-pill shadow-sm px-4 mb-4"><i
          class="align justify icon"></i><small class="text-uppercase font-weight-bold">Menu</small></button>

      <!-- Page content -->
      <h1>Barcode Gen</h1>
      <br>
      <center><img class="ui medium rounded image headersvg" src="stock.svg"></center>
      <br>

      <!-- <div name="printme" id="printme">
        <style>
          .page {
            width: 21cm;
            height: 29.7cm;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
          }
        
          .cell {
            background-color: white;
            width: 5.25cm;
            height: 2.475cm;
            border: 1px solid red;
            text-align: center;
        
            overflow: auto;
          }
        
   
        </style>
      
         <div class="page" name="page" id="page">
         
    
        </div> -->

      <button id="printButton">Print Stickers</button>
      <div class="container" name="printme" id="printme">
        <style>
          .container {
            width: 80vw;
            margin: 0 auto;
            page-break-after: always;
          }
         
          table {
            width: 100%;
            border-collapse: collapse;
          }

          td {
            border: 1px solid black;
            width: 5.25cm;
            height: 2.475cm;
            text-align: center;
            vertical-align: middle;
          }

          .empty-cell {
            visibility: hidden;
          }
        </style>
          <% for (let k=0; k< chunkedItems.length;k++) {%>
        <table id="myTable">
          <% for (let i=0; i < 12; i++) { %>
            <tr>
              <% for (let j=0; j < 4; j++) { %>
                <% const index=i * 4 + j; %>
                  <% if (index < chunkedItems[k].length) { %>
                    <td>
                      <p style="font-size: 10px;margin: 0;">
                        <%= chunkedItems[k][index].headerText %>
                          <%=chunkedItems[k][index].footerText %>
                      </p>
                      <img height="80%" width="90%" class="barcode-image" src="<%= chunkedItems[k][index].sticker %>"
                        alt="Barcode">
                    </td>
                    <% } else { %>
                      <td class="empty-cell"></td>
                      <% } %>
                        <% } %>
            </tr>
            <% } %>
        </table>
        <% } %>
      </div>
    </div>
    </div>
    <%- include('footer') %>

      <!-- Option 1: Bootstrap Bundle with Popper -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
      <!-- Semnatic-UI Scripts -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.js"></script>

      <script>
        const printButton = document.getElementById('printButton');
        printButton.addEventListener('click', () => {
          var printContents = document.getElementById("printme").innerHTML;
          var originalContents = document.body.innerHTML;

          document.body.innerHTML = printContents;

          window.print();

          document.body.innerHTML = originalContents;

        });
        $(function () {
          // Sidebar toggle behavior
          $('#sidebarCollapse').on('click', function () {
            $('#sidebar, #content').toggleClass('active');
          });
        });

      </script>

</body>

</html>